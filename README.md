# BankCardManagement

Проект разработан для управления банковскими картами пользователей с возможностью просмотра, переводов и администрирования.
---
# Описание Задачи

## Основная функциональность:
- **Создание и управление картами.**
- **Просмотр списка карт с фильтрами и постраничной навигацией.**
- **Возможность перевода денег между собственными картами.**

## Каждая карта обладает такими характеристиками:
- **Номер карты (маскируется как &&&& &&&& &&&& 1234)**
- **Владельца карты**
- **Срок действия карты**
- **Текущего статуса (Активна / Заблокирована / Истёк срок)**
- **Текущего баланса**
---
## Функционал

### Для Администратора:
- **Полный контроль над всеми картами (создание, блокировка, активация, удаление).**
- **Управление пользователями.**
- **Доступ ко всей информации о картах.**
### Для Пользователя:
- **Просмотр собственных карт с поддержкой фильтров и пагинации.**
- **Самостоятельная блокировка своей карты.**
- **Осуществление переводов между своими картами.**
- **Получение актуальной информации о балансе.**

## RESTful API
- **Предоставляются стандартные CRUD-операции для управления картами.**
- **Интерфейсы для осуществления переводов между картами.**

## Безопасность

### Аутентификация и Авторизация
- Используется Spring Security с конфигурацией аннотаций (`@EnableWebSecurity`, `@EnableMethodSecurity`) для настройки фильтров безопасности и управления правами доступа.
- Реализован ролевой доступ к ресурсам приложения:
  * `/admin/**`: доступна только пользователям с ролью ADMIN.
  * `/user/**`: доступна только пользователям с ролью USER.
  * Открытые маршруты (`/api/v1/auth/login`, `/register**) разрешены для всех пользователей.

### Механизмы безопасности
- Все запросы обрабатываются через `JWT Authorization Filter`, проверяющий валидность JWT-токена перед обработкой каждого запроса.
- Пользовательские пароли хранятся хешированными с использованием алгоритма bcrypt (`BCryptPasswordEncoder`), что предотвращает компрометацию данных даже при взломе базы данных.
- Для каждой сессии создается уникальный JWT-токен, срок действия которого ограничен одним днем.
- Поддерживаются механизмы обработки ошибок и отказов доступа (`CustomAccessDeniedHandler`).

### Конфиденциальность
- Куки-файлы сессионные (`JSESSIONID`) удаляются автоматически при выходе пользователя.
- CSRF-защита отключена ввиду реализации stateless подхода.

## База данных
  **Использована реляционная СУБД: PostgreSQL**

## Документация
  **Интерактивная документация доступна через Swagger UI**

## Тестирование и развёртывание
   **Автоматическое тестирование ключевых компонентов бизнес-логики средствами JUnit.**
   **Разработана инфраструктура для быстрой настройки рабочей среды с помощью Docker Compose, запуск через jar-файл**
---

### Описание docker контейнера расположено в файле Description_docker_container.txt
